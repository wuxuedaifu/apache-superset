(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1684:function(t,e,a){"use strict";var r=s(a(54)),n=s(a(2698));a(2699);var l=s(a(2461)),i=a(31);function s(t){return t&&t.__esModule?t:{default:t}}a(2867);var o=a(21);(0,n.default)(window,o),t.exports=function(t,e){var a=o(t.selector),n=r.default.format("0,000"),s=e.data,c=t.formData,d=(c.metrics||[]).map((function(t){return t.label||t}));function u(t){for(var e=[],a=0;a<s.records.length;a+=1)e.push(s.records[a][t]);return e}d=(d=d.concat((c.percent_metrics||[]).map((function(t){return"%"+t})))).filter((function(t){return!isNaN(s.records[0][t])}));for(var f={},p={},m=0;m<d.length;m+=1)c.align_pn?f[d[m]]=r.default.max(u(d[m]).map(Math.abs)):(f[d[m]]=r.default.max(u(d[m])),p[d[m]]=r.default.min(u(d[m])));var h=(0,i.d3TimeFormatPreset)(c.table_timestamp_format),g=r.default.select(t.selector);g.html("");var b=g.append("table").classed("dataframe dataframe table table-striped table-condensed table-hover dataTable no-footer",!0).attr("width","100%"),v=t.datasource.verbose_map,_=s.columns.map((function(t){if(v[t])return v[t];if("%"===t[0]){var e=t.substring(1);return"% "+(v[e]||e)}return t}));b.append("thead").append("tr").selectAll("th").data(_).enter().append("th").text((function(t){return t}));var M=t.getFilters();b.append("tbody").selectAll("tr").data(s.records).enter().append("tr").selectAll("td").data((function(e){return s.columns.map((function(a){var n=e[a],i=void 0,s=d.indexOf(a)>=0;return"__timestamp"===a&&(i=h(n)),"string"==typeof n&&(i='<span class="like-pre">'+l.default.sanitize(n)+"</span>"),s&&(i=t.d3format(a,n)),"%"===a[0]&&(i=r.default.format(".3p")(n)),{col:a,val:n,html:i,isMetric:s}}))})).enter().append("td").style("background-image",(function(t){if(t.isMetric){var e=c.color_pn&&t.val<0?150:0;if(c.align_pn){var a=Math.abs(Math.round(t.val/f[t.col]*100));return"linear-gradient(to right, rgba("+e+",0,0,0.2), rgba("+e+",0,0,0.2) "+a+"%, rgba(0,0,0,0.01) "+a+"%, rgba(0,0,0,0.001) 100%)"}var r=Math.abs(Math.max(f[t.col],0)),n=Math.abs(Math.min(p[t.col],0)),l=r+n,i=Math.round(Math.min(n+t.val,n)/l*100),s=Math.round(Math.abs(t.val)/l*100);return"linear-gradient(to right, rgba(0,0,0,0.01), rgba(0,0,0,0.001) "+i+"%, rgba("+e+",0,0,0.2) "+i+"%, rgba("+e+",0,0,0.2) "+(i+s)+"%, rgba(0,0,0,0.01) "+(i+s)+"%, rgba(0,0,0,0.001) 100%)"}return null})).classed("text-right",(function(t){return t.isMetric})).attr("title",(function(t){return isNaN(t.val)?null:n(t.val)})).attr("data-sort",(function(t){return t.isMetric?t.val:null})).classed("filtered",(function(t){return M&&M[t.col]&&M[t.col].indexOf(t.val)>=0})).on("click",(function(e){!e.isMetric&&c.table_filter&&(r.default.select(this).classed("filtered")?(t.removeFilter(e.col,[e.val]),r.default.select(this).classed("filtered",!1)):(r.default.select(this).classed("filtered",!0),t.addFilter(e.col,[e.val])))})).style("cursor",(function(t){return t.isMetric?"":"pointer"})).html((function(t){return t.html?t.html:t.val}));var x=t.height(),w=!1,T=void 0;c.page_length&&c.page_length>0&&(w=!0,T=parseInt(c.page_length,10));var k=a.find(".dataTable").DataTable({paging:w,pageLength:T,aaSorting:[],searching:c.include_search,bInfo:!1,scrollY:x+"px",scrollCollapse:!0,scrollX:!0});(0,i.fixDataTableBodyHeight)(a.find(".dataTables_wrapper"),x);var y=void 0;c.timeseries_limit_metric?y=c.timeseries_limit_metric.label||c.timeseries_limit_metric:d.length>0&&(y=d[0]),y&&k.column(s.columns.indexOf(y)).order(c.order_desc?"desc":"asc"),y&&d.indexOf(y)<0&&k.column(s.columns.indexOf(y)).visible(!1),k.draw(),a.parents(".widget").find(".tooltip").remove()}},2867:function(t,e,a){}}]);