(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1686:function(t,e,n){"use strict";var r,a=n(54),l=(r=a)&&r.__esModule?r:{default:r},c=n(244);n(2922),t.exports=function(t,e){var n=l.default.select(t.selector),r=function(e,r,a,i){var d=0,u=0,o=r-u-0,s=a-36-10-d-0,p=l.default.format(i.number_format),f=void 0,x=l.default.scale.linear().domain([0,o]).range([0,o]),h=l.default.scale.linear().domain([0,s]).range([0,s]),y=l.default.layout.treemap().children((function(t,e){return e?null:t._children})).sort((function(t,e){return t.value-e.value})).ratio(i.treemap_ratio).mode("squarify").round(!1),m=n.append("svg").attr("class","treemap").attr("width",r).attr("height",a),g=m.append("g").attr("transform","translate("+u+","+(d+36+10)+")").style("shape-rendering","crispEdges"),v=m.append("g").attr("class","grandparent").attr("transform","translate(0,"+(d+5)+")");v.append("rect").attr("width",o).attr("height",36),v.append("text").attr("x",o/2).attr("y",24).style("font-size","12px").style("text-anchor","middle");var _,A=function t(e){return e._children=e.children,e._children&&(e.value=e.children.reduce((function(e,n){return e+t(n)}),0)),e.value},w=function t(e){e._children&&(y.nodes({_children:e._children}),e._children.forEach((function(n){n.x=e.x+n.x*e.dx,n.y=e.y+n.y*e.dy,n.dx*=e.dx,n.dy*=e.dy,n.parent=e,t(n)})))},b=function t(e){var n=function(e){if(!f&&e){f=!0;var n=t(e),a=r.transition().duration(750),l=n.transition().duration(750);x.domain([e.x,e.x+e.dx]),h.domain([e.y,e.y+e.dy]),g.style("shape-rendering",null),g.selectAll(".depth").sort((function(t,e){return t.depth-e.depth})),n.selectAll("text").style("fill-opacity",0),a.selectAll(".ptext").call(k).style("fill-opacity",0),a.selectAll(".ctext").call(C).style("fill-opacity",0),l.selectAll(".ptext").call(k).style("fill-opacity",1),l.selectAll(".ctext").call(C).style("fill-opacity",1),a.selectAll("rect").call(E),l.selectAll("rect").call(E),a.remove().each("end",(function(){g.style("shape-rendering","crispEdges"),f=!1}))}};v.datum(e.parent).on("click",n).select("text").text(L(e));var r=g.append("g").datum(e).attr("class","depth"),a=r.selectAll("g").data(e._children).enter().append("g");a.filter((function(t){return t._children})).classed("children",!0).on("click",n);var l=a.selectAll(".child").data((function(t){return t._children||[t]})).enter().append("g");l.append("rect").attr("class","child").call(E).append("title").text((function(t){return t.name+" ("+p(t.value)+")"})),l.append("text").attr("class","ctext").text((function(t){return t.name})).call(C),a.append("rect").attr("class","parent").call(E);var d=a.append("text").attr("class","ptext").attr("dy",".75em");return d.append("tspan").text((function(t){return t.name})),d.append("tspan").attr("dy","1.0em").text((function(t){return p(t.value)})),d.call(k),a.selectAll("rect").style("fill",(function(t){return(0,c.getColorFromScheme)(t.name,i.color_scheme)})),a},k=function(t){t.selectAll("tspan").attr("x",(function(t){return x(t.x)+6})),t.attr("x",(function(t){return x(t.x)+6})).attr("y",(function(t){return h(t.y)+6})).style("opacity",(function(t){return this.getComputedTextLength()<x(t.x+t.dx)-x(t.x)?1:0}))},C=function(t){t.attr("x",(function(t){return x(t.x+t.dx)-this.getComputedTextLength()-6})).attr("y",(function(t){return h(t.y+t.dy)-6})).style("opacity",(function(t){return this.getComputedTextLength()<x(t.x+t.dx)-x(t.x)?1:0}))},E=function(t){t.attr("x",(function(t){return x(t.x)})).attr("y",(function(t){return h(t.y)})).attr("width",(function(t){return x(t.x+t.dx)-x(t.x)})).attr("height",(function(t){return h(t.y+t.dy)-h(t.y)}))},L=function e(n){return n.parent?e(n.parent)+" / "+n.name+" ("+p(n.value)+")":(t.datasource.verbose_map[n.name]||n.name)+" ("+p(n.value)+")"};(_=e).x=0,_.y=0,_.dx=o,_.dy=s,_.depth=0,A(e),w(e),b(e)};n.selectAll("*").remove();for(var a=t.width(),i=t.height()/e.data.length,d=0,u=e.data.length;d<u;d+=1)r(e.data[d],a,i,t.formData)}},2922:function(t,e,n){}}]);