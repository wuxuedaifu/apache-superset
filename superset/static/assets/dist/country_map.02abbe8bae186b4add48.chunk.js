(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1687:function(t,e,r){"use strict";var a,o=r(54),i=(a=o)&&a.__esModule?a:{default:a};r(2923);var n=r(244);t.exports=function(t,e){var r=e.form_data,a=void 0,o=void 0,s=void 0,c=void 0,l=t.container,d=e.data,u=i.default.format(r.number_format),h=(0,n.colorScalerFactory)(r.linear_color_scheme,d,(function(t){return t.metric})),p={};d.forEach((function(t){p[t.country_id]=h(t.metric)}));var f=function(t){return p[t.properties.ISO]||"none"},v=void 0;a=i.default.geo.path(),i.default.select(t.selector).selectAll("*").remove();var g=i.default.select(t.selector).append("svg:svg").attr("width",t.width()).attr("height",t.height()).attr("preserveAspectRatio","xMidYMid meet");l.css("height",t.height()),l.css("width",t.width());var w=function(e){var r=void 0,i=void 0,n=void 0,l=void 0,d=void 0,u=void 0,h=void 0,p=void 0;if(e&&v!==e){var f=a.centroid(e);r=f[0],i=f[1],l=f[0],d=f[1]-40,h=f[0],p=f[1]-40,u="6px",n=4,v=e}else r=t.width()/2,i=t.height()/2,l=0,d=0,h=0,p=0,u="30px",n=1,v=null;o.transition().duration(750).attr("transform","translate("+t.width()/2+","+t.height()/2+")scale("+n+")translate("+-r+","+-i+")"),s.transition().duration(750).attr("transform","translate(0,0)translate("+l+","+d+")").style("font-size",u),c.transition().duration(750).attr("transform","translate(0,0)translate("+h+","+p+")")},m=function(t){var e="";t&&t.properties&&(e=t.properties.ID_2?t.properties.NAME_2:t.properties.NAME_1),s.text(e)},x=function(t){t.length>0&&c.text(u(t[0].metric))},_=function(t){var e=f(t);"none"!==e&&(e=i.default.rgb(e).darker().toString()),i.default.select(this).style("fill",e),m(t);var r=d.filter((function(e){return e.country_id===t.properties.ISO}));x(r)},y=function(){i.default.select(this).style("fill",f),s.text(""),c.text("")};g.append("rect").attr("class","background").attr("width",t.width()).attr("height",t.height()).on("click",w);var b=(o=g.append("g")).append("g").classed("map-layer",!0);s=o.append("text").classed("big-text",!0).attr("x",20).attr("y",45),c=o.append("text").classed("result-text",!0).attr("x",20).attr("y",60);var k="/static/assets/src/visualizations/countries/"+r.select_country.toLowerCase()+".geojson";i.default.json(k,(function(e,r){var o=r.features,n=i.default.geo.centroid(r),s=150,c=[t.width()/2,t.height()/2],l=i.default.geo.mercator().scale(s).center(n).translate(c),d=(a=a.projection(l)).bounds(r),u=s*t.width()/(d[1][0]-d[0][0]),h=s*t.height()/(d[1][1]-d[0][1]);s=u<h?u:h,c=[t.width()-(d[0][0]+d[1][0])/2,t.height()-(d[0][1]+d[1][1])/2],l=i.default.geo.mercator().center(n).scale(s).translate(c),a=a.projection(l),b.selectAll("path").data(o).enter().append("path").attr("d",a).attr("class","region").attr("vector-effect","non-scaling-stroke").style("fill",f).on("mouseenter",_).on("mouseout",y).on("click",w)})),l.show()}},2923:function(t,e,r){}}]);